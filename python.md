# Шпаргалка по python для собеседований

## Базовые знания

### Типы данных

Типы данных в python делятся на 2 категории:

- **мутабельные** (*изменяемые*, *mutable*)
- **иммутабельные** (*не изменяемые*, *immutable*)

Раздичие в изменении объекта (очевидно же).

**Immutable objects** - не изменяют своего состояния во времени. При попытки изменения, создаётся (не всегда [см. пример](#example-int-memory)) новый объект.

*Особенности*:

- при изменении обьекта, создаётся новый объект. Существующий никогда не изменяется
- при передачи в качестве аргумента копируется значение, а не ссылка на объект
- Стандартные (built-in) типы:
  - int
  - float
  - str
  - bool
  - tuple (может содержать внутри изменяемые типы данных)
  - namedtuple (аналогично tuple)
  - bytes
  - complex
  - NoneType (singleton)
  - Ellipsis (singleton)
  - frozenset (не уверен)
  - range (интересно, но это знание не имеет сильный вес) )
  - etc.
- Интересные особенности:
  - память под объекты int со значениями от -5 до 259 выделяется 1 раз при запуске интерпритатора и в дальнейшем только присваиваются числа на эти объекты [Пример](#example-int-memory).
  - память под объекты str пытается в оптимизацию, но это происходить далеко не всегда [Пример](#example-str-memory)
  - если внутри кортежа (tuple) есть мутабельный обьект и пользоваться языком неправильно, могут получиться интересные результаты [Пример](#example-tuple-error), Аккуратнее!

<a name="example-int-memory">пример про int</a>

```python
#py3.9.1
a, b = 10, 400

a is (a+1-1)
# >> True

# But!

b is (b+1-1)
# >> False
```

<a name="example-str-memory">пример про str</a>

```python
#py3.9.1
a = "abcd"
b = "abcd"
a is b
# >> True

# But!
a = "Hello, World!"
b = "Hello, World!"
a is b
# >> False!!!

## Be careful!!!

```

<a name="example-tuple-error">пример интересной ошибки</a>

```python
#py3.9.1
a = ([], )
a[0] += [1, 2, 3, 4]
# ERROR!!!
>> TypeError: 'tuple' object does not support item assignment

# But!
a
>> ([1, 2, 3, 4], ) # the object has changed

```

**Mutable objects** - может изменять своё состояние | содержание

*Особенности*:

- можно изменить содержание, при этом объект не изменится.
- все имена (переменные) ссылающиеся на этот объект так же изменят содержания.
- при передачи в качетве аргумента в функцию будет передана ссылка, на тот же обьект, и при изменении обьекта внутри функции глобальный обьект так же поменяется
- Стандартные (built-in) типы:
  - list
  - set
  - dict
  - bytearray
  - object (А вот тут интересно, тип вполне себе мутабельный, при этом имеет перегрузку `__hash__` что делает возможным использовать его и всех его наследников (любой пользовательский класс) в качестве ключа для dict и set)  
  default `__hash__` считается как `id(self)/16`
